"0","convert_TaiwanDate2WesternDate <- function(twDate){"
"0","  "
"0","  if(!require(""stringr"")){"
"0","    install.packages(""stringr"")"
"0","  }"
"0","  if(!require(""lubridate"")){"
"0","    install.packages(""lubridate"")"
"0","  }"
"0","  "
"0","  regex_pattern <-"
"0","    ""(?<=民國)[0-9]+(?=年)"""
"0","  "
"0","  # 取出民國年，計算西元年"
"0","  year <- "
"0","    str_extract("
"0","      twDate,"
"0","      regex_pattern)"
"0","  westernYear <- as.integer(year)+1911"
"0","  "
"0","  # 替換民國xx年的xx成西元年數字"
"0","  str_replace("
"0","    twDate,"
"0","    regex_pattern,  # 要換掉的文字"
"0","    as.character(westernYear) # 要替換的內容"
"0","  ) -> twDate_reformat"
"0","  "
"0","  lubridate::ymd(twDate_reformat) -> westernDate"
"0","  return(westernDate)"
"0","}"
